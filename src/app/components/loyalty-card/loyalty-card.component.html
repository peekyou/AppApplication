<div *ngIf="s.config" class="loyalty-container">
    <div class="background" [ngStyle]="s.config.design && s.config.design.backgroundImage && {'background': 'linear-gradient(rgba(100, 100, 100, .5), rgba(100, 100, 100, .5)), url(' + s.config.design.backgroundImage.src + ')'}"></div>
    <div class="content">
        <app-header title="Rewards program"></app-header>
        <app-logo></app-logo>
        <div class="points-container after-logo-padding-top-8" *ngIf="service.user">
            <div class="badge goal-badge" [style.color]="s.config.design ? s.config.design.titlesColor : null">
                GOAL<br/>
                <span class="sub-text">{{ s.config.discountPointsThreshold }}<span class="sup"> PTS</span></span>
            </div>
            <app-circle-progress subtitle="POINTS OWNED" [title]="service.user.currentPoints" 
                [backgroundColor]="s.config.design ? s.config.design.rewardsWheelColor : '#FDB900'"
                backgroundOpacity=1
                backgroundStroke="#000000"
                backgroundPadding="14"
                radius=87
                space=-9
                maxPercent=100
                unitsColor="#ffffff"
                outerStrokeWidth=9
                outerStrokeColor="#ffffff"
                [innerStrokeColor]="s.config.design ? s.config.design.rewardsWheelSecondaryColor : '#ffdf72'"
                innerStrokeWidth=9
                titleColor="#ffffff"
                titleFontSize="45"
                subtitleColor="#ffffff"
                subtitleFontSize=17
                animationDuration=500
                [showUnits]=false
                [percent]="service.user.currentPoints / s.config.discountPointsThreshold * 100">
            </app-circle-progress>
            <div class="badge to-goal-badge">
                POINTS TO GOAL<br/><span class="sub-text">{{s.config.discountPointsThreshold - service?.user?.currentPoints }}
                <span class="sup"> PTS</span></span>           
            </div>
            
            <div fxLayout="row wrap" class="achieve-container" fxLayoutAlign="center">
                <div fxFlex="50" class="achieve-text" [style.color]="s.config.design ? s.config.design.titlesColor : null">
                    Achieve {{ s.config.discountPointsThreshold }} pts and<br />
                    <span>win a voucher of</span>     
                </div>
                <div fxFlex="85px" class="badge voucher-badge">
                    <span class="sup">{{ s.config.discountCurrency }}</span>{{s.config.discountAmount}}       
                </div>
            </div>
        </div>
    </div>
</div>
