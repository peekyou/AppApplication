<div *ngIf="s.config">
    <app-header title="Rewards program"></app-header>
    <app-logo></app-logo>
    <div class="points-container after-logo-padding-top-8" *ngIf="service.user">
        <div class="badge goal-badge" [style.color]="s.config.themeColor1">
            GOAL<br/>
            <span class="sub-text">{{ s.config.discountPointsThreshold }}<span class="sup"> PTS</span></span>
        </div>
        <app-circle-progress subtitle="POINTS OWNED" [title]="service.user.currentPoints" 
            backgroundColor="#FDB900"
            backgroundOpacity=1
            backgroundStroke="#000000"
            backgroundPadding="14"
            radius=87
            space=-9
            maxPercent=100
            unitsColor="#ffffff"
            outerStrokeWidth=9
            outerStrokeColor="#ffffff"
            innerStrokeColor="#ffdf72"
            innerStrokeWidth=9
            titleColor="#ffffff"
            titleFontSize="45"
            subtitleColor="#ffffff"
            subtitleFontSize=17
            animationDuration=500
            [showUnits]=false
            [percent]="service.user.currentPoints / s.config.discountPointsThreshold * 100">
        </app-circle-progress>
        <div class="badge to-goal-badge">
            POINTS TO GOAL<br/><span class="sub-text">{{s.config.discountPointsThreshold - service?.user?.currentPoints }}
            <span class="sup"> PTS</span></span>           
        </div>
        
        <div fxLayout="row wrap" class="achieve-container" fxLayoutAlign="center">
            <div fxFlex="50" class="achieve-text" [style.color]="s.config.themeColor1">
                Achieve {{ s.config.discountPointsThreshold }} pts and<br />
                <span>win a voucher of</span>     
            </div>
            <div fxFlex="85px" class="badge voucher-badge">
                <span class="sup">{{ s.config.discountCurrency }}</span>{{s.config.discountAmount}}       
            </div>
        </div>
    </div>
    <!-- <mat-card>
        <mat-card-header>
           <div mat-card-avatar>
                <i class="fa fa-user-circle-o fa-2x"></i>
            </div>
            <mat-card-title>{{ service?.user?.firstname }} {{ service?.user?.lastname }}</mat-card-title>
            <mat-card-subtitle>Card no: {{ service?.user?.cardNumber }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <div *ngFor="let number of s.config.discountPointsThresholdArray" class="loyalty-point"
                    [ngClass]="{'active': number <= service.user.currentPoints}">
                {{number}}
            </div>
        </mat-card-content>
        <mat-card-actions>
            <div fxFlex="85px" class="loyalty-point" [ngClass]="{'active': service.user.currentPoints >= s.config.discountPointsThreshold}">
                {{s.config.discountAmount}} {{s.config.discountCurrency}}
            </div>
        </mat-card-actions> 
        <mat-card-subtitle>
            <ng-template #discount>
                <h2>You can get {{s.config.discountAmount}} {{s.config.discountCurrency}} discount!</h2>
            </ng-template>
            <div *ngIf="s.config.discountPointsThreshold - service.user.currentPoints > 0;else discount;">
                {{s.config.discountPointsThreshold - service?.user?.currentPoints }} points to get {{s.config.discountAmount}} {{s.config.discountCurrency}} discount!
            </div>
        </mat-card-subtitle>
    </mat-card> -->
</div>
